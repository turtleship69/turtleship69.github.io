<form action="https://turtleship69.azurewebsites.net/api/sketcher" method="post" enctype="multipart/form-data" id="form" >
    <input type="file" name="image" id="image"/>
    <br>
    <input type="submit" value="Submit"/>
</form>
<!--hidden image with id image
<img src="" id="image" style="display:none;"/>
<script>
    //function to send a POST request to the server with the image and replace the form with the image on form submit
    function uploadImage() {
        var form = document.getElementById("form");
        var image = document.getElementById("image");
        var formData = new FormData(form);
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "https://turtleship69.azurewebsites.net/api/sketcher", true);
        xhr.send(formData);
        xhr.onload = function() {
            image.src=getBase64Image(image);
        };
        return false;
    }

    const toDataURL = url => fetch(url)
    .then(response => response.blob())
    .then(blob => new Promise((resolve, reject) => {
        const reader = new FileReader()
        reader.onloadend = () => resolve(reader.result)
        reader.onerror = reject
        reader.readAsDataURL(blob)
    }))

</script>